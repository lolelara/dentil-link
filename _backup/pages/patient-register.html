<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ù…Ø±ÙŠØ¶ Ø¬Ø¯ÙŠØ¯ - DentLink</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/pages.css">
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <h1 class="logo">DentLink</h1>
                <span class="logo-subtitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø±Ø¶Ù‰</span>
            </div>
            <div class="navbar-menu">
                <a href="../index.html" class="nav-link">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            </div>
        </div>
    </nav>

    <div class="container" style="padding: var(--space-12) var(--space-6); max-width: 800px;">
        <div class="page-header text-center">
            <h1 class="page-title">ØªØ³Ø¬ÙŠÙ„ Ø­Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</h1>
            <p class="page-subtitle">Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø±ÙØ¹ ØµÙˆØ±Ø© Ù„Ù„Ø³Ù† Ø£Ùˆ Ø§Ù„Ù„Ø«Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ´Ø®ÙŠØµ ÙÙˆØ±ÙŠ</p>
        </div>

        <div class="card" style="margin-bottom: var(--space-8);">
            <div class="progress-bar" style="margin-bottom: var(--space-6);">
                <div class="progress-bar-fill" id="progressBar" style="width: 33%;"></div>
            </div>

            <form id="patientForm">
                <!-- Step 1: Personal Info -->
                <div class="form-step active" id="step1">
                    <h3 style="margin-bottom: var(--space-6);">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>

                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                        <input type="text" class="form-input" id="fullName" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¹Ù…Ø± *</label>
                        <input type="number" class="form-input" id="age" required placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…Ø±Ùƒ" min="1"
                            max="120">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
                        <input type="tel" class="form-input" id="phone" required placeholder="05XXXXXXXX">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" class="form-input" id="email" placeholder="example@email.com">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…ÙˆÙ‚Ø¹ / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
                        <input type="text" class="form-input" id="location" required placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶">
                    </div>

                    <button type="button" class="btn btn-primary btn-lg" onclick="nextStep(2)" style="width: 100%;">
                        <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>

                <!-- Step 2: Symptoms -->
                <div class="form-step" id="step2" style="display: none;">
                    <h3 style="margin-bottom: var(--space-6);">Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ ÙˆØ§Ù„Ø´ÙƒÙˆÙ‰</h3>

                    <div class="form-group">
                        <label class="form-label">Ù…Ø§ Ù‡ÙŠ Ø´ÙƒÙˆØ§Ùƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ *</label>
                        <textarea class="form-textarea" id="symptoms" required
                            placeholder="Ù…Ø«Ø§Ù„: Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø³Ù† Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØŒ Ù†Ø²ÙŠÙ ÙÙŠ Ø§Ù„Ù„Ø«Ø©ØŒ ÙƒØ³Ø± ÙÙŠ Ø§Ù„Ø¶Ø±Ø³..."></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ØŸ</label>
                        <select class="form-select" id="symptomDuration">
                            <option value="">Ø§Ø®ØªØ±...</option>
                            <option value="today">Ø§Ù„ÙŠÙˆÙ…</option>
                            <option value="week">Ø®Ù„Ø§Ù„ Ø£Ø³Ø¨ÙˆØ¹</option>
                            <option value="month">Ø®Ù„Ø§Ù„ Ø´Ù‡Ø±</option>
                            <option value="months">Ù…Ù†Ø° Ø¹Ø¯Ø© Ø£Ø´Ù‡Ø±</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ù„Ù… (1-10)</label>
                        <input type="range" class="form-input" id="painLevel" min="1" max="10" value="5"
                            oninput="document.getElementById('painValue').textContent = this.value">
                        <div
                            style="text-align: center; margin-top: var(--space-2); font-weight: var(--font-semibold); color: var(--primary-600);">
                            <span id="painValue">5</span> / 10
                        </div>
                    </div>

                    <div style="display: flex; gap: var(--space-3);">
                        <button type="button" class="btn btn-ghost btn-lg" onclick="nextStep(1)" style="flex: 1;">
                            <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                        </button>
                        <button type="button" class="btn btn-primary btn-lg" onclick="nextStep(3)" style="flex: 2;">
                            <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Image Upload -->
                <div class="form-step" id="step3" style="display: none;">
                    <h3 style="margin-bottom: var(--space-6);">Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„Ø©</h3>

                    <div class="form-group">
                        <div class="file-upload">
                            <input type="file" id="caseImage" class="file-upload-input" accept="image/*"
                                onchange="previewImage(event)">
                            <label for="caseImage" class="file-upload-label">
                                <div class="file-upload-icon">ğŸ“¸</div>
                                <div class="file-upload-text">
                                    <span class="file-upload-text-main">Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ ØµÙˆØ±Ø© Ù„Ù„Ø³Ù† Ø£Ùˆ Ø§Ù„Ù„Ø«Ø©</span>
                                    <span class="file-upload-text-sub">PNG, JPG, JPEG (Ø­Ø¬Ù… Ø£Ù‚ØµÙ‰ 5MB)</span>
                                </div>
                            </label>
                        </div>
                        <div id="imagePreview" style="margin-top: var(--space-4); display: none;">
                            <img id="previewImg"
                                style="width: 100%; max-height: 400px; object-fit: contain; border-radius: var(--radius-lg);">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
                        <textarea class="form-textarea" id="additionalNotes"
                            placeholder="Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ØªØ±ÙŠØ¯ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§..."></textarea>
                    </div>

                    <div style="display: flex; gap: var(--space-3);">
                        <button type="button" class="btn btn-ghost btn-lg" onclick="nextStep(2)" style="flex: 1;">
                            <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                        </button>
                        <button type="submit" class="btn btn-primary btn-lg" style="flex: 2;">
                            <span>Ø¥Ø±Ø³Ø§Ù„ ÙˆØªØ´Ø®ÙŠØµ Ø§Ù„Ø­Ø§Ù„Ø©</span>
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/mock-data.js"></script>
    <script>
        function nextStep(step) {
            // Validate current step before proceeding
            const currentStep = document.querySelector('.form-step.active');
            const inputs = currentStep.querySelectorAll('input[required], textarea[required]');
            let isValid = true;
            // Update progress bar
            const progress = (step / 3) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('previewImg').src = e.target.result;
                    document.getElementById('imagePreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        document.getElementById('patientForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // Collect form data
            const formData = {
                fullName: document.getElementById('fullName').value,
                age: document.getElementById('age').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                location: document.getElementById('location').value,
                symptoms: document.getElementById('symptoms').value,
                symptomDuration: document.getElementById('symptomDuration').value,
                painLevel: document.getElementById('painLevel').value,
                additionalNotes: document.getElementById('additionalNotes').value,
                timestamp: new Date().toISOString()
            };

            // Save to localStorage
            localStorage.setItem('currentPatient', JSON.stringify(formData));

            // Show loading animation
            const submitBtn = document.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<div class="spinner"></div> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...';
            submitBtn.disabled = true;

            // Simulate AI processing
            setTimeout(() => {
                window.location.href = 'patient-diagnosis.html';
            }, 2000);
        });
    </script>
</body>

</html>