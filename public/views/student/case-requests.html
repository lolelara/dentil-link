<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª - DentLink</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/components.css">

    <style>
        body {
            background: var(--gray-50);
        }

        .navbar {
            background: var(--student-gradient);
            color: var(--white);
            padding: 20px 0;
            box-shadow: var(--shadow-lg);
        }

        .container-main {
            max-width: 1200px;
            margin: 32px auto;
            padding: 0 20px;
        }

        .page-header {
            margin-bottom: 32px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: var(--gray-600);
            font-size: 16px;
        }

        .requests-count {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--student-start);
            border-radius: 12px;
            padding: 16px 24px;
            margin-bottom: 24px;
            display: inline-block;
        }

        .requests-count strong {
            color: var(--student-start);
            font-size: 20px;
        }

        .case-request-card {
            background: var(--white);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .case-request-card:hover {
            box-shadow: var(--shadow-md);
            border-color: var(--student-start);
        }

        .card-header {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: center;
        }

        .patient-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--student-start), var(--student-end));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            flex-shrink: 0;
        }

        .patient-info {
            flex: 1;
        }

        .patient-name {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .patient-meta {
            color: var(--gray-600);
            font-size: 14px;
        }

        .urgency-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }

        .urgency-high {
            background: #fee2e2;
            color: #991b1b;
        }

        .urgency-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .urgency-low {
            background: #dcfce7;
            color: #065f46;
        }

        .case-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--gray-50);
            border-radius: 12px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .detail-label {
            font-size: 12px;
            color: var(--gray-500);
            font-weight: 600;
        }

        .detail-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
        }

        .level-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
        }

        .level-1 {
            background: #dcfce7;
            color: #065f46;
        }

        .level-2 {
            background: #fef3c7;
            color: #92400e;
        }

        .level-3 {
            background: #fee2e2;
            color: #991b1b;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--error);
            font-weight: 600;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        .btn-accept {
            flex: 1;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        .btn-reject {
            flex: 1;
            background: var(--white);
            color: var(--error);
            padding: 14px;
            border: 2px solid var(--error);
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-reject:hover {
            background: var(--error);
            color: white;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            max-width: 700px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s;
        }

        .modal-header {
            background: var(--student-gradient);
            color: white;
            padding: 24px;
            border-radius: 24px 24px 0 0;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .modal-body {
            padding: 24px;
        }

        .info-section {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--student-start);
            border-bottom: 2px solid var(--student-start);
            padding-bottom: 8px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 12px;
            color: var(--gray-500);
            font-weight: 600;
        }

        .info-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
        }

        .list-item {
            padding: 12px;
            background: var(--gray-50);
            border-radius: 8px;
            margin-bottom: 8px;
            border-right: 4px solid var(--student-start);
        }

        .modal-footer {
            padding: 24px;
            border-top: 1px solid var(--gray-200);
            display: flex;
            gap: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .empty-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .empty-desc {
            color: var(--gray-600);
            font-size: 16px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 16px;">
                <button class="btn btn-secondary" onclick="location.href='dashboard.html'">â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <h2 style="margin: 0;">ğŸ“¬ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª</h2>
            </div>
            <div style="display: flex; align-items: center; gap: 12px;">
                <span id="notificationBadge" class="badge badge-error">3</span>
            </div>
        </div>
    </nav>

    <div class="container-main">
        <div class="page-header">
            <h1 class="page-title">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h1>
            <p class="page-subtitle">Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ</p>
        </div>

        <div class="requests-count">
            Ù„Ø¯ÙŠÙƒ <strong id="pendingCount">3</strong> Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©
        </div>

        <div id="requestsContainer">
            <!-- Case Request 1 -->
            <div class="case-request-card" data-request-id="REQ-001">
                <div class="card-header">
                    <div class="patient-avatar">ğŸ‘¨</div>
                    <div class="patient-info">
                        <h3 class="patient-name">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</h3>
                        <p class="patient-meta">28 Ø³Ù†Ø© â€¢ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±</p>
                        <span class="urgency-badge urgency-medium">âš ï¸ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</span>
                    </div>
                </div>

                <div class="case-details">
                    <div class="detail-item">
                        <span class="detail-label">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„Ø©</span>
                        <span class="detail-value">Root Canal Treatment</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</span>
                        <span class="level-badge level-2">Level 2 - Ù…ØªÙˆØ³Ø·</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</span>
                        <span class="timer">â° 2 Ø³Ø§Ø¹Ø§Øª</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</span>
                        <span class="detail-value">â­ 150 XP</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-accept" onclick="showPatientDetails('REQ-001')">âœ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø©</button>
                    <button class="btn-reject" onclick="rejectCase('REQ-001')">âŒ Ø±ÙØ¶</button>
                </div>
            </div>

            <!-- Case Request 2 -->
            <div class="case-request-card" data-request-id="REQ-002">
                <div class="card-header">
                    <div class="patient-avatar">ğŸ‘©</div>
                    <div class="patient-info">
                        <h3 class="patient-name">ÙØ§Ø·Ù…Ø© Ø­Ø³Ù†</h3>
                        <p class="patient-meta">35 Ø³Ù†Ø© â€¢ Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†</p>
                        <span class="urgency-badge urgency-low">âœ“ Ø£ÙˆÙ„ÙˆÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©</span>
                    </div>
                </div>

                <div class="case-details">
                    <div class="detail-item">
                        <span class="detail-label">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„Ø©</span>
                        <span class="detail-value">Dental Cleaning</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</span>
                        <span class="level-badge level-1">Level 1 - Ø¨Ø³ÙŠØ·</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</span>
                        <span class="timer">â° 4 Ø³Ø§Ø¹Ø§Øª</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</span>
                        <span class="detail-value">â­ 80 XP</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-accept" onclick="showPatientDetails('REQ-002')">âœ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø©</button>
                    <button class="btn-reject" onclick="rejectCase('REQ-002')">âŒ Ø±ÙØ¶</button>
                </div>
            </div>

            <!-- Case Request 3 -->
            <div class="case-request-card" data-request-id="REQ-003">
                <div class="card-header">
                    <div class="patient-avatar">ğŸ‘´</div>
                    <div class="patient-info">
                        <h3 class="patient-name">Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡</h3>
                        <p class="patient-meta">52 Ø³Ù†Ø© â€¢ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</p>
                        <span class="urgency-badge urgency-high">ğŸ”´ Ø¹Ø§Ø¬Ù„</span>
                    </div>
                </div>

                <div class="case-details">
                    <div class="detail-item">
                        <span class="detail-label">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„Ø©</span>
                        <span class="detail-value">Crown Preparation</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</span>
                        <span class="level-badge level-3">Level 3 - Ù…ØªÙ‚Ø¯Ù…</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</span>
                        <span class="timer">â° 1 Ø³Ø§Ø¹Ø©</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</span>
                        <span class="detail-value">â­ 250 XP</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-accept" onclick="showPatientDetails('REQ-003')">âœ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø©</button>
                    <button class="btn-reject" onclick="rejectCase('REQ-003')">âŒ Ø±ÙØ¶</button>
                </div>
            </div>
        </div>

        <!-- Empty State (hidden by default) -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <div class="empty-icon">ğŸ“­</div>
            <h2 class="empty-title">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h2>
            <p class="empty-desc">Ø³Ù†Ø±Ø³Ù„ Ù„Ùƒ Ø¥Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>
            <button class="btn btn-primary" onclick="location.href='dashboard.html'" style="margin-top: 24px;">
                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
        </div>
    </div>

    <!-- Patient Details Modal -->
    <div id="patientModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalPatientName">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ÙŠØ¶</h2>
                <p style="opacity: 0.9; margin: 0;">Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ù†Ø§ÙŠØ© Ù‚Ø¨Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‚Ø¨ÙˆÙ„</p>
            </div>

            <div class="modal-body">
                <!-- Personal Info -->
                <div class="info-section">
                    <h3 class="section-title">ğŸ“‹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</span>
                            <span class="info-value" id="modalFullName">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ø§Ù„Ø¹Ù…Ø±</span>
                            <span class="info-value" id="modalAge">28 Ø³Ù†Ø©</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</span>
                            <span class="info-value" id="modalPhone">01234567890</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</span>
                            <span class="info-value" id="modalAddress">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±</span>
                        </div>
                    </div>
                </div>

                <!-- Medical History -->
                <div class="info-section">
                    <h3 class="section-title">ğŸ©º Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨ÙŠ</h3>
                    <div style="margin-bottom: 16px;">
                        <div class="info-label" style="margin-bottom: 8px;">Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ù…Ø²Ù…Ù†Ø©</div>
                        <div id="chronicDiseases">
                            <div class="list-item">Ø§Ù„Ø³ÙƒØ±ÙŠ Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ 2</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <div class="info-label" style="margin-bottom: 8px;">Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
                        <div id="medications">
                            <div class="list-item">Metformin 500mg - Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <div class="info-label" style="margin-bottom: 8px;">Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ§Øª</div>
                        <div id="allergies">
                            <div class="list-item">âš ï¸ Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„Ø¨Ù†Ø³Ù„ÙŠÙ†</div>
                        </div>
                    </div>
                    <div>
                        <div class="info-label" style="margin-bottom: 8px;">Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</div>
                        <div id="surgeries">
                            <div class="list-item">Ø§Ø³ØªØ¦ØµØ§Ù„ Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© Ø§Ù„Ø¯ÙˆØ¯ÙŠØ© - 2020</div>
                        </div>
                    </div>
                </div>

                <!-- Dental History -->
                <div class="info-section">
                    <h3 class="section-title">ğŸ¦· Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³Ù†ÙŠ</h3>
                    <div class="info-grid" style="margin-bottom: 16px;">
                        <div class="info-item">
                            <span class="info-label">Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø© Ù„Ù„Ø·Ø¨ÙŠØ¨</span>
                            <span class="info-value">15 ÙŠÙ†Ø§ÙŠØ± 2024</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</span>
                            <span class="info-value">3 Ø²ÙŠØ§Ø±Ø§Øª</span>
                        </div>
                    </div>
                    <div>
                        <div class="info-label" style="margin-bottom: 8px;">Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</div>
                        <div id="previousIssues">
                            <div class="list-item">ØªØ³ÙˆØ³ ÙÙŠ Ø§Ù„Ø¶Ø±Ø³ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø£ÙŠÙ…Ù† - ØªÙ… Ø§Ù„Ø¹Ù„Ø§Ø¬</div>
                            <div class="list-item">Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ù„Ø«Ø© - ØªØ­Øª Ø§Ù„Ø¹Ù„Ø§Ø¬</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary flex-1" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary flex-1" onclick="confirmAccept()">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‚Ø¨ÙˆÙ„</button>
            </div>
        </div>
    </div>

    <script>
        let currentRequestId = null;

        const patientsData = {
            'REQ-001': {
                name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ',
                age: '28 Ø³Ù†Ø©',
                phone: '01234567890',
                address: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±',
                chronicDiseases: ['Ø§Ù„Ø³ÙƒØ±ÙŠ Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ 2'],
                medications: ['Metformin 500mg - Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹'],
                allergies: ['âš ï¸ Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„Ø¨Ù†Ø³Ù„ÙŠÙ†'],
                surgeries: ['Ø§Ø³ØªØ¦ØµØ§Ù„ Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© Ø§Ù„Ø¯ÙˆØ¯ÙŠØ© - 2020'],
                previousIssues: ['ØªØ³ÙˆØ³ ÙÙŠ Ø§Ù„Ø¶Ø±Ø³ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø£ÙŠÙ…Ù† - ØªÙ… Ø§Ù„Ø¹Ù„Ø§Ø¬', 'Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ù„Ø«Ø© - ØªØ­Øª Ø§Ù„Ø¹Ù„Ø§Ø¬']
            },
            'REQ-002': {
                name: 'ÙØ§Ø·Ù…Ø© Ø­Ø³Ù†',
                age: '35 Ø³Ù†Ø©',
                phone: '01098765432',
                address: 'Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†',
                chronicDiseases: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯'],
                medications: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯'],
                allergies: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯'],
                surgeries: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯'],
                previousIssues: ['Ø²ÙŠØ§Ø±Ø© Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙÙ‚Ø·']
            },
            'REQ-003': {
                name: 'Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡',
                age: '52 Ø³Ù†Ø©',
                phone: '01123456789',
                address: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©',
                chronicDiseases: ['Ø¶ØºØ· Ø§Ù„Ø¯Ù… Ø§Ù„Ù…Ø±ØªÙØ¹', 'Ø§Ù„ÙƒÙˆÙ„ÙŠØ³ØªØ±ÙˆÙ„'],
                medications: ['Amlodipine 5mg - ÙŠÙˆÙ…ÙŠØ§Ù‹', 'Atorvastatin 20mg - ÙŠÙˆÙ…ÙŠØ§Ù‹'],
                allergies: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯'],
                surgeries: ['Ø¹Ù…Ù„ÙŠØ© Ù‚Ù„Ø¨ Ù…ÙØªÙˆØ­ - 2018'],
                previousIssues: ['ØªØ±ÙƒÙŠØ¨ ØªØ§Ø¬ Ø³Ù†ÙŠ - 2022', 'Ø®Ù„Ø¹ Ø¶Ø±Ø³ Ø§Ù„Ø¹Ù‚Ù„ - 2020']
            }
        };

        function showPatientDetails(requestId) {
            currentRequestId = requestId;
            const patient = patientsData[requestId];

            // Fill modal with patient data
            document.getElementById('modalPatientName').textContent = `Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ÙŠØ¶: ${patient.name}`;
            document.getElementById('modalFullName').textContent = patient.name;
            document.getElementById('modalAge').textContent = patient.age;
            document.getElementById('modalPhone').textContent = patient.phone;
            document.getElementById('modalAddress').textContent = patient.address;

            // Medical history
            document.getElementById('chronicDiseases').innerHTML = patient.chronicDiseases.map(d => `<div class="list-item">${d}</div>`).join('');
            document.getElementById('medications').innerHTML = patient.medications.map(m => `<div class="list-item">${m}</div>`).join('');
            document.getElementById('allergies').innerHTML = patient.allergies.map(a => `<div class="list-item">${a}</div>`).join('');
            document.getElementById('surgeries').innerHTML = patient.surgeries.map(s => `<div class="list-item">${s}</div>`).join('');
            document.getElementById('previousIssues').innerHTML = patient.previousIssues.map(i => `<div class="list-item">${i}</div>`).join('');

            // Show modal
            document.getElementById('patientModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('patientModal').classList.remove('active');
            currentRequestId = null;
        }

        function confirmAccept() {
            const patient = patientsData[currentRequestId];

            closeModal();

            // Remove card from list
            const card = document.querySelector(`[data-request-id="${currentRequestId}"]`);
            card.style.animation = 'fadeOut 0.5s';

            setTimeout(() => {
                card.remove();
                updatePendingCount();

                alert(`âœ… ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!\n\nØ³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø±ÙŠØ¶ "${patient.name}" Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯.\n\nØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ù„Ù‰ "Ø­Ø§Ù„Ø§ØªÙŠ Ø§Ù„Ù†Ø´Ø·Ø©".`);

                // Check if no more requests
                const remaining = document.querySelectorAll('.case-request-card').length;
                if (remaining === 0) {
                    document.getElementById('requestsContainer').style.display = 'none';
                    document.getElementById('emptyState').style.display = 'block';
                }
            }, 500);
        }

        function rejectCase(requestId) {
            const patient = patientsData[requestId];

            if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ÙØ¶ Ø­Ø§Ù„Ø© "${patient.name}"ØŸ\n\nØ³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø±ÙŠØ¶ Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø·Ø§Ù„Ø¨ Ø¢Ø®Ø±.`)) {
                const card = document.querySelector(`[data-request-id="${requestId}"]`);
                card.style.animation = 'fadeOut 0.5s';

                setTimeout(() => {
                    card.remove();
                    updatePendingCount();

                    alert('ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø­Ø§Ù„Ø©.');

                    // Check if no more requests
                    const remaining = document.querySelectorAll('.case-request-card').length;
                    if (remaining === 0) {
                        document.getElementById('requestsContainer').style.display = 'none';
                        document.getElementById('emptyState').style.display = 'block';
                    }
                }, 500);
            }
        }

        function updatePendingCount() {
            const count = document.querySelectorAll('.case-request-card').length;
            document.getElementById('pendingCount').textContent = count;
            document.getElementById('notificationBadge').textContent = count;

            if (count === 0) {
                document.getElementById('notificationBadge').style.display = 'none';
            }
        }

        // Close modal when clicking outside
        document.getElementById('patientModal').addEventListener('click', (e) => {
            if (e.target.id === 'patientModal') {
                closeModal();
            }
        });
    </script>

    <style>
        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }
    </style>
</body>

</html>